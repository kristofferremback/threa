<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI Agent Activity Visualization - 5 Approaches</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      /* ========================================
         GOLDEN THREAD THEME VARS
         ======================================== */
      :root {
        --background: 40 20% 98%;
        --foreground: 30 10% 12%;
        --card: 40 15% 99%;
        --primary: 38 65% 50%;
        --primary-foreground: 40 20% 98%;
        --muted: 35 12% 93%;
        --muted-foreground: 30 8% 45%;
        --border: 35 15% 88%;
      }

      .dark {
        --background: 30 15% 8%;
        --foreground: 35 15% 92%;
        --card: 30 12% 11%;
        --primary: 40 55% 55%;
        --primary-foreground: 30 15% 8%;
        --muted: 30 10% 15%;
        --muted-foreground: 35 10% 55%;
        --border: 30 10% 20%;
      }

      * {
        box-sizing: border-box;
      }

      body {
        font-family: "Space Grotesk", system-ui, sans-serif;
        background: hsl(var(--background));
        color: hsl(var(--foreground));
        margin: 0;
        padding: 40px 20px;
        line-height: 1.6;
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
      }

      h1 {
        font-size: 32px;
        font-weight: 700;
        margin-bottom: 12px;
      }

      .subtitle {
        font-size: 16px;
        color: hsl(var(--muted-foreground));
        margin-bottom: 48px;
      }

      .approach-section {
        margin-bottom: 80px;
        padding-bottom: 80px;
        border-bottom: 1px solid hsl(var(--border));
      }

      .approach-section:last-child {
        border-bottom: none;
      }

      .approach-header {
        margin-bottom: 32px;
      }

      .approach-title {
        font-size: 24px;
        font-weight: 700;
        margin-bottom: 8px;
      }

      .approach-desc {
        font-size: 14px;
        color: hsl(var(--muted-foreground));
        margin-bottom: 16px;
      }

      .approach-principles {
        background: hsl(var(--muted) / 0.3);
        padding: 16px;
        border-radius: 8px;
        font-size: 13px;
      }

      .approach-principles strong {
        display: block;
        margin-bottom: 8px;
      }

      .approach-principles ul {
        margin: 0;
        padding-left: 20px;
      }

      .approach-principles li {
        margin-bottom: 4px;
      }

      .demo-container {
        background: hsl(var(--card));
        border: 1px solid hsl(var(--border));
        border-radius: 12px;
        padding: 24px;
        max-width: 700px;
      }

      .scenario-label {
        font-size: 11px;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        color: hsl(var(--primary));
        margin-bottom: 16px;
      }

      /* ========================================
         SHARED MESSAGE STYLES
         ======================================== */
      .message {
        display: flex;
        gap: 14px;
        margin-bottom: 20px;
      }

      .message-avatar {
        width: 36px;
        height: 36px;
        border-radius: 10px;
        flex-shrink: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 13px;
        font-weight: 600;
        background: hsl(var(--muted));
        color: hsl(var(--foreground));
      }

      .message.ai .message-avatar {
        background: hsl(var(--primary));
        color: hsl(var(--primary-foreground));
      }

      .message-content {
        flex: 1;
        padding-top: 2px;
      }

      .message-header {
        display: flex;
        align-items: baseline;
        gap: 8px;
        margin-bottom: 4px;
      }

      .message-author {
        font-weight: 600;
        font-size: 14px;
      }

      .message.ai .message-author {
        color: hsl(var(--primary));
      }

      .message-time {
        font-size: 12px;
        color: hsl(var(--muted-foreground));
      }

      .message-text {
        font-size: 14px;
        line-height: 1.6;
      }

      .message.ai {
        background: linear-gradient(90deg, hsl(var(--primary) / 0.06) 0%, transparent 100%);
        margin-left: -24px;
        margin-right: -24px;
        padding: 16px 24px;
        border-left: 3px solid hsl(var(--primary));
      }

      /* ========================================
         APPROACH 1: MINIMAL BADGE
         ======================================== */
      .minimal-badge {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 2px 8px;
        background: hsl(var(--primary) / 0.1);
        border: 1px solid hsl(var(--primary) / 0.3);
        border-radius: 12px;
        font-size: 11px;
        font-weight: 500;
        color: hsl(var(--primary));
      }

      .minimal-badge-dot {
        width: 6px;
        height: 6px;
        border-radius: 50%;
        background: hsl(var(--primary));
        animation: pulse-minimal 2s ease-in-out infinite;
      }

      @keyframes pulse-minimal {
        0%,
        100% {
          opacity: 1;
          transform: scale(1);
        }
        50% {
          opacity: 0.5;
          transform: scale(0.9);
        }
      }

      .minimal-badge-done {
        background: hsl(var(--muted));
        border-color: hsl(var(--border));
        color: hsl(var(--muted-foreground));
      }

      .minimal-badge-done .minimal-badge-dot {
        background: hsl(var(--muted-foreground));
        animation: none;
      }

      /* ========================================
         APPROACH 2: INLINE ACTIVITY
         ======================================== */
      .inline-activity {
        margin-top: 8px;
        padding: 8px 12px;
        background: hsl(var(--muted) / 0.5);
        border-radius: 8px;
        font-size: 13px;
        color: hsl(var(--muted-foreground));
      }

      .inline-activity-working {
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .inline-spinner {
        width: 12px;
        height: 12px;
        border: 2px solid hsl(var(--primary) / 0.2);
        border-top-color: hsl(var(--primary));
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      .inline-activity-step {
        font-size: 12px;
        color: hsl(var(--muted-foreground));
        margin-top: 4px;
        font-style: italic;
      }

      .inline-activity-complete {
        color: hsl(var(--muted-foreground));
        font-size: 12px;
      }

      /* ========================================
         APPROACH 3: COLLAPSIBLE DETAILS
         ======================================== */
      .collapsible-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 8px 12px;
        background: hsl(var(--muted) / 0.3);
        border-radius: 8px;
        cursor: pointer;
        margin-top: 8px;
        transition: all 0.15s;
      }

      .collapsible-header:hover {
        background: hsl(var(--muted) / 0.5);
      }

      .collapsible-left {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 13px;
        color: hsl(var(--muted-foreground));
      }

      .collapsible-chevron {
        width: 16px;
        height: 16px;
        color: hsl(var(--muted-foreground));
        transition: transform 0.2s;
      }

      .collapsible-header.expanded .collapsible-chevron {
        transform: rotate(90deg);
      }

      .collapsible-details {
        margin-top: 8px;
        padding: 12px;
        background: hsl(var(--muted) / 0.2);
        border-radius: 8px;
        font-size: 13px;
      }

      .detail-step {
        padding: 6px 0;
        border-bottom: 1px solid hsl(var(--border));
      }

      .detail-step:last-child {
        border-bottom: none;
      }

      .detail-step-header {
        font-weight: 500;
        margin-bottom: 4px;
        color: hsl(var(--foreground));
      }

      .detail-step-content {
        font-size: 12px;
        color: hsl(var(--muted-foreground));
      }

      /* ========================================
         APPROACH 4: TIMELINE STREAM
         ======================================== */
      .timeline-event {
        display: flex;
        gap: 14px;
        margin-bottom: 12px;
        padding: 8px 0;
      }

      .timeline-icon-wrapper {
        width: 36px;
        height: 36px;
        border-radius: 10px;
        flex-shrink: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        background: hsl(var(--muted));
      }

      .timeline-icon {
        width: 18px;
        height: 18px;
        color: hsl(var(--muted-foreground));
      }

      .timeline-content {
        flex: 1;
        padding-top: 8px;
      }

      .timeline-label {
        font-size: 13px;
        font-weight: 500;
        margin-bottom: 2px;
      }

      .timeline-desc {
        font-size: 12px;
        color: hsl(var(--muted-foreground));
      }

      .timeline-event.thinking .timeline-icon-wrapper {
        background: hsl(var(--primary) / 0.15);
      }

      .timeline-event.thinking .timeline-icon {
        color: hsl(var(--primary));
      }

      .timeline-event.tool .timeline-icon-wrapper {
        background: hsl(200 70% 50% / 0.15);
      }

      .timeline-event.tool .timeline-icon {
        color: hsl(200 70% 50%);
      }

      /* ========================================
         APPROACH 5: FULL TRANSPARENCY
         ======================================== */
      .transparency-container {
        margin-top: 12px;
        border: 1px solid hsl(var(--border));
        border-radius: 10px;
        overflow: hidden;
      }

      .transparency-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 10px 14px;
        background: hsl(var(--muted) / 0.3);
        border-bottom: 1px solid hsl(var(--border));
      }

      .transparency-title {
        font-size: 13px;
        font-weight: 600;
        color: hsl(var(--foreground));
      }

      .transparency-meta {
        font-size: 11px;
        color: hsl(var(--muted-foreground));
      }

      .transparency-body {
        padding: 0;
      }

      .transparency-step {
        padding: 12px 14px;
        border-bottom: 1px solid hsl(var(--border));
      }

      .transparency-step:last-child {
        border-bottom: none;
      }

      .transparency-step-header {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-bottom: 8px;
      }

      .transparency-step-type {
        display: inline-flex;
        align-items: center;
        gap: 4px;
        padding: 2px 6px;
        border-radius: 4px;
        font-size: 10px;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .transparency-step-type.thinking {
        background: hsl(var(--primary) / 0.15);
        color: hsl(var(--primary));
      }

      .transparency-step-type.tool {
        background: hsl(200 70% 50% / 0.15);
        color: hsl(200 70% 50%);
      }

      .transparency-step-type.response {
        background: hsl(142 76% 36% / 0.15);
        color: hsl(142 76% 36%);
      }

      .transparency-step-time {
        font-size: 11px;
        color: hsl(var(--muted-foreground));
      }

      .transparency-step-content {
        font-size: 13px;
        line-height: 1.5;
        color: hsl(var(--foreground));
      }

      .transparency-step-content pre {
        margin: 8px 0;
        padding: 8px;
        background: hsl(var(--background));
        border-radius: 6px;
        font-size: 12px;
        overflow-x: auto;
      }

      .transparency-thinking {
        background: hsl(var(--primary) / 0.03);
      }

      .transparency-tool {
        background: hsl(200 70% 50% / 0.03);
      }

      /* ========================================
         THEME TOGGLE
         ======================================== */
      .theme-toggle {
        position: fixed;
        top: 20px;
        right: 20px;
        width: 40px;
        height: 40px;
        border-radius: 10px;
        background: hsl(var(--card));
        border: 1px solid hsl(var(--border));
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        color: hsl(var(--foreground));
        z-index: 100;
        transition: all 0.15s;
      }

      .theme-toggle:hover {
        background: hsl(var(--muted));
      }

      /* ========================================
         ICONS (inline SVG)
         ======================================== */
      .icon {
        width: 16px;
        height: 16px;
      }
    </style>
  </head>
  <body>
    <div class="theme-toggle" onclick="toggleTheme()">
      <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"
        />
      </svg>
    </div>

    <div class="container">
      <h1>AI Agent Activity Visualization</h1>
      <p class="subtitle">
        5 approaches for showing AI work in Threa, from minimal to maximal transparency. Each approach handles: single
        invocation, multiple messages, tool use, and reconsideration.
      </p>

      <!-- ========================================
           APPROACH 1: MINIMAL BADGE
           ======================================== -->
      <section class="approach-section">
        <div class="approach-header">
          <h2 class="approach-title">1. Minimal Badge</h2>
          <p class="approach-desc">
            Barely-there indicator. Agent work is almost invisible. Just a small badge next to the author name while
            working, disappears when done.
          </p>
          <div class="approach-principles">
            <strong>Design Principles:</strong>
            <ul>
              <li><strong>Stay out of the way</strong> - User's conversation is primary, agent is secondary</li>
              <li><strong>No explanations</strong> - Trust that the agent is working, don't distract</li>
              <li><strong>Clean up after yourself</strong> - Badge disappears when complete</li>
            </ul>
          </div>
        </div>

        <div class="demo-container">
          <div class="scenario-label">Scenario: User asks question in scratchpad</div>

          <div class="message">
            <div class="message-avatar">KR</div>
            <div class="message-content">
              <div class="message-header">
                <span class="message-author">Kristoffer</span>
                <span class="message-time">2:34 PM</span>
              </div>
              <div class="message-text">What's the weather in Stockholm today?</div>
            </div>
          </div>

          <div class="message ai">
            <div class="message-avatar">A</div>
            <div class="message-content">
              <div class="message-header">
                <span class="message-author">Ariadne</span>
                <span class="minimal-badge">
                  <span class="minimal-badge-dot"></span>
                  Working
                </span>
              </div>
            </div>
          </div>

          <div style="margin: 32px 0; text-align: center; color: hsl(var(--muted-foreground)); font-size: 13px">
            ↓ After completion (badge removed)
          </div>

          <div class="message ai">
            <div class="message-avatar">A</div>
            <div class="message-content">
              <div class="message-header">
                <span class="message-author">Ariadne</span>
                <span class="message-time">2:34 PM</span>
              </div>
              <div class="message-text">
                It's currently 3°C and cloudy in Stockholm. There's a 60% chance of rain this afternoon.
              </div>
            </div>
          </div>
        </div>

        <div
          style="
            margin-top: 24px;
            padding: 16px;
            background: hsl(var(--muted) / 0.2);
            border-radius: 8px;
            font-size: 14px;
          "
        >
          <strong>Trade-offs:</strong><br />
          ✅ Doesn't dominate the UI<br />
          ✅ Clean, uncluttered<br />
          ❌ No visibility into what's happening<br />
          ❌ Can't tell if agent is stuck<br />
          ❌ Doesn't show tool use (web search, etc.)
        </div>
      </section>

      <!-- ========================================
           APPROACH 2: INLINE ACTIVITY
           ======================================== -->
      <section class="approach-section">
        <div class="approach-header">
          <h2 class="approach-title">2. Inline Activity</h2>
          <p class="approach-desc">
            Show current activity inline below the message header. Updates in place as agent works. Collapses to summary
            when done.
          </p>
          <div class="approach-principles">
            <strong>Design Principles:</strong>
            <ul>
              <li><strong>Just enough context</strong> - Show what's happening, not how</li>
              <li><strong>Single line</strong> - Activity stays compact, doesn't push content down</li>
              <li><strong>Progressive disclosure</strong> - More detail on hover if needed</li>
            </ul>
          </div>
        </div>

        <div class="demo-container">
          <div class="scenario-label">Scenario: Agent using web search tool</div>

          <div class="message">
            <div class="message-avatar">KR</div>
            <div class="message-content">
              <div class="message-header">
                <span class="message-author">Kristoffer</span>
                <span class="message-time">2:34 PM</span>
              </div>
              <div class="message-text">What's the latest news on the Mars rover?</div>
            </div>
          </div>

          <div class="message ai">
            <div class="message-avatar">A</div>
            <div class="message-content">
              <div class="message-header">
                <span class="message-author">Ariadne</span>
                <span class="message-time">2:34 PM</span>
              </div>
              <div class="inline-activity">
                <div class="inline-activity-working">
                  <div class="inline-spinner"></div>
                  <span>Searching the web for Mars rover news...</span>
                </div>
              </div>
            </div>
          </div>

          <div style="margin: 32px 0; text-align: center; color: hsl(var(--muted-foreground)); font-size: 13px">
            ↓ After completion
          </div>

          <div class="message ai">
            <div class="message-avatar">A</div>
            <div class="message-content">
              <div class="message-header">
                <span class="message-author">Ariadne</span>
                <span class="message-time">2:34 PM</span>
              </div>
              <div class="message-text">
                NASA's Perseverance rover recently discovered organic molecules in Jezero Crater, suggesting ancient
                Mars may have supported microbial life. The rover is now preparing to collect samples for eventual
                return to Earth.
              </div>
              <div class="inline-activity-complete">Used web search • Took 3.2s</div>
            </div>
          </div>
        </div>

        <div
          style="
            margin-top: 24px;
            padding: 16px;
            background: hsl(var(--muted) / 0.2);
            border-radius: 8px;
            font-size: 14px;
          "
        >
          <strong>Trade-offs:</strong><br />
          ✅ Shows high-level activity without overwhelming<br />
          ✅ Updates in place (no layout shift)<br />
          ✅ Gives feedback that agent is working<br />
          ❌ Still doesn't show reasoning<br />
          ❌ Single line might truncate complex operations
        </div>
      </section>

      <!-- ========================================
           APPROACH 3: COLLAPSIBLE DETAILS
           ======================================== -->
      <section class="approach-section">
        <div class="approach-header">
          <h2 class="approach-title">3. Collapsible Details Panel</h2>
          <p class="approach-desc">
            Full transparency available on demand. Collapsed by default, shows summary. Click to expand and see all
            steps, reasoning, and tool calls.
          </p>
          <div class="approach-principles">
            <strong>Design Principles:</strong>
            <ul>
              <li><strong>Progressive disclosure</strong> - Default collapsed, expand for details</li>
              <li><strong>Show the work</strong> - All reasoning and tool use visible when expanded</li>
              <li><strong>User controls complexity</strong> - You decide how much to see</li>
            </ul>
          </div>
        </div>

        <div class="demo-container">
          <div class="scenario-label">Scenario: Multi-step agent work (collapsed)</div>

          <div class="message">
            <div class="message-avatar">KR</div>
            <div class="message-content">
              <div class="message-header">
                <span class="message-author">Kristoffer</span>
                <span class="message-time">2:34 PM</span>
              </div>
              <div class="message-text">Can you find that message from Martin about the design system?</div>
            </div>
          </div>

          <div class="message ai">
            <div class="message-avatar">A</div>
            <div class="message-content">
              <div class="message-header">
                <span class="message-author">Ariadne</span>
                <span class="message-time">2:34 PM</span>
              </div>
              <div class="message-text">
                Found it! Martin's message from yesterday about the design system: "We should use the golden thread
                color more sparingly - it's most effective when it guides attention to key moments."
              </div>
              <div class="collapsible-header" onclick="toggleCollapsible(this)">
                <div class="collapsible-left">
                  <svg class="collapsible-chevron" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                  </svg>
                  <span>View agent activity (3 steps, 2.4s)</span>
                </div>
              </div>
            </div>
          </div>

          <div style="margin: 32px 0; text-align: center; color: hsl(var(--muted-foreground)); font-size: 13px">
            ↓ Expanded state
          </div>

          <div class="message ai">
            <div class="message-avatar">A</div>
            <div class="message-content">
              <div class="message-header">
                <span class="message-author">Ariadne</span>
                <span class="message-time">2:34 PM</span>
              </div>
              <div class="message-text">
                Found it! Martin's message from yesterday about the design system: "We should use the golden thread
                color more sparingly - it's most effective when it guides attention to key moments."
              </div>
              <div class="collapsible-header expanded" onclick="toggleCollapsible(this)">
                <div class="collapsible-left">
                  <svg class="collapsible-chevron" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                  </svg>
                  <span>View agent activity (3 steps, 2.4s)</span>
                </div>
              </div>
              <div class="collapsible-details">
                <div class="detail-step">
                  <div class="detail-step-header">1. Reasoning</div>
                  <div class="detail-step-content">
                    User wants to find a message from Martin about design system. I'll search workspace messages for
                    "design system" and filter by Martin as author.
                  </div>
                </div>
                <div class="detail-step">
                  <div class="detail-step-header">2. Search workspace messages</div>
                  <div class="detail-step-content">
                    Query: "design system", Author: Martin<br />
                    Found 3 results, most recent is from #design-collab yesterday
                  </div>
                </div>
                <div class="detail-step">
                  <div class="detail-step-header">3. Response</div>
                  <div class="detail-step-content">Retrieved message content and formatted for user</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div
          style="
            margin-top: 24px;
            padding: 16px;
            background: hsl(var(--muted) / 0.2);
            border-radius: 8px;
            font-size: 14px;
          "
        >
          <strong>Trade-offs:</strong><br />
          ✅ Full transparency when you want it<br />
          ✅ Doesn't dominate UI when collapsed<br />
          ✅ Great for debugging agent behavior<br />
          ❌ Requires user action to see details<br />
          ❌ Can be verbose when expanded
        </div>
      </section>

      <!-- ========================================
           APPROACH 4: TIMELINE STREAM
           ======================================== -->
      <section class="approach-section">
        <div class="approach-header">
          <h2 class="approach-title">4. Timeline Stream</h2>
          <p class="approach-desc">
            Agent activity is treated as events in the message stream. Thinking and tool use appear as lightweight
            timeline entries between user and agent messages.
          </p>
          <div class="approach-principles">
            <strong>Design Principles:</strong>
            <ul>
              <li><strong>Everything is an event</strong> - Agent work is part of the conversation flow</li>
              <li><strong>Chronological transparency</strong> - See work as it happens, in order</li>
              <li><strong>Scannable</strong> - Icons and concise labels make it easy to skim</li>
            </ul>
          </div>
        </div>

        <div class="demo-container">
          <div class="scenario-label">Scenario: Agent with multiple steps visible in timeline</div>

          <div class="message">
            <div class="message-avatar">KR</div>
            <div class="message-content">
              <div class="message-header">
                <span class="message-author">Kristoffer</span>
                <span class="message-time">2:34 PM</span>
              </div>
              <div class="message-text">
                Can you find the latest metrics from our analytics dashboard and summarize the trends?
              </div>
            </div>
          </div>

          <div class="timeline-event thinking">
            <div class="timeline-icon-wrapper">
              <svg class="timeline-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"
                />
              </svg>
            </div>
            <div class="timeline-content">
              <div class="timeline-label">Ariadne is thinking</div>
              <div class="timeline-desc">Need to search workspace for analytics data, then analyze trends</div>
            </div>
          </div>

          <div class="timeline-event tool">
            <div class="timeline-icon-wrapper">
              <svg class="timeline-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                />
              </svg>
            </div>
            <div class="timeline-content">
              <div class="timeline-label">Searched workspace</div>
              <div class="timeline-desc">Query: "analytics dashboard metrics" → Found 2 recent messages</div>
            </div>
          </div>

          <div class="timeline-event thinking">
            <div class="timeline-icon-wrapper">
              <svg class="timeline-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"
                />
              </svg>
            </div>
            <div class="timeline-content">
              <div class="timeline-label">Ariadne is thinking</div>
              <div class="timeline-desc">Analyzing metrics data to identify trends</div>
            </div>
          </div>

          <div class="message ai">
            <div class="message-avatar">A</div>
            <div class="message-content">
              <div class="message-header">
                <span class="message-author">Ariadne</span>
                <span class="message-time">2:34 PM</span>
              </div>
              <div class="message-text">
                Based on the latest analytics data from #product-metrics:<br /><br />
                • User engagement is up 23% this month<br />
                • Feature adoption for the new sidebar is at 67%<br />
                • Average session time increased from 8.2 to 11.4 minutes<br /><br />
                The trend is positive - especially the session time increase suggests users are finding more value in
                the app.
              </div>
            </div>
          </div>
        </div>

        <div
          style="
            margin-top: 24px;
            padding: 16px;
            background: hsl(var(--muted) / 0.2);
            border-radius: 8px;
            font-size: 14px;
          "
        >
          <strong>Trade-offs:</strong><br />
          ✅ Clear visibility into agent process<br />
          ✅ Familiar timeline pattern<br />
          ✅ Shows work chronologically<br />
          ❌ Can push final response down<br />
          ❌ More vertical space consumed<br />
          ❌ Could be noisy in multi-user channels
        </div>
      </section>

      <!-- ========================================
           APPROACH 5: FULL TRANSPARENCY
           ======================================== -->
      <section class="approach-section">
        <div class="approach-header">
          <h2 class="approach-title">5. Full Transparency</h2>
          <p class="approach-desc">
            Maximum detail. Every step, every thought, every tool call is visible. This is the "Claude.ai / ChatGPT
            streaming" approach adapted for async multi-user chat.
          </p>
          <div class="approach-principles">
            <strong>Design Principles:</strong>
            <ul>
              <li><strong>Trust through transparency</strong> - Show everything the agent does</li>
              <li><strong>Educational</strong> - Users learn how the agent thinks</li>
              <li><strong>Debuggable</strong> - When something goes wrong, you can see exactly what happened</li>
            </ul>
          </div>
        </div>

        <div class="demo-container">
          <div class="scenario-label">Scenario: Complex agent session with reasoning and tools</div>

          <div class="message">
            <div class="message-avatar">KR</div>
            <div class="message-content">
              <div class="message-header">
                <span class="message-author">Kristoffer</span>
                <span class="message-time">2:34 PM</span>
              </div>
              <div class="message-text">
                What's the best way to implement the sidebar collapse behavior? Check if we have any similar patterns in
                the codebase.
              </div>
            </div>
          </div>

          <div class="message ai">
            <div class="message-avatar">A</div>
            <div class="message-content">
              <div class="message-header">
                <span class="message-author">Ariadne</span>
                <span class="message-time">2:34 PM</span>
              </div>

              <div class="transparency-container">
                <div class="transparency-header">
                  <span class="transparency-title">Agent Session</span>
                  <span class="transparency-meta">4 steps • 4.8s</span>
                </div>
                <div class="transparency-body">
                  <div class="transparency-step transparency-thinking">
                    <div class="transparency-step-header">
                      <span class="transparency-step-type thinking">Thinking</span>
                      <span class="transparency-step-time">0.3s</span>
                    </div>
                    <div class="transparency-step-content">
                      User wants to know about sidebar collapse patterns in the codebase. I should:
                      <ol style="margin: 8px 0; padding-left: 20px">
                        <li>Search workspace for existing sidebar implementations</li>
                        <li>Look for collapse/expand patterns</li>
                        <li>Provide code examples if found</li>
                      </ol>
                    </div>
                  </div>

                  <div class="transparency-step transparency-tool">
                    <div class="transparency-step-header">
                      <span class="transparency-step-type tool">Tool: Search Workspace</span>
                      <span class="transparency-step-time">1.2s</span>
                    </div>
                    <div class="transparency-step-content">
                      <strong>Query:</strong> "sidebar collapse expand"<br />
                      <strong>Results:</strong> 3 messages found in #design-system
                      <pre>
1. Martin: "We use CSS transitions for smooth collapse..."
2. Kristoffer: "The sidebar should remember its state..."
3. Anna: "Linear's sidebar collapse is really nice"</pre
                      >
                    </div>
                  </div>

                  <div class="transparency-step transparency-thinking">
                    <div class="transparency-step-header">
                      <span class="transparency-step-type thinking">Thinking</span>
                      <span class="transparency-step-time">0.4s</span>
                    </div>
                    <div class="transparency-step-content">
                      Found relevant discussion but no code examples. Let me search for actual implementation files that
                      might have collapse patterns.
                    </div>
                  </div>

                  <div class="transparency-step transparency-tool">
                    <div class="transparency-step-header">
                      <span class="transparency-step-type tool">Tool: Search Workspace</span>
                      <span class="transparency-step-time">1.1s</span>
                    </div>
                    <div class="transparency-step-content">
                      <strong>Query:</strong> "useState collapsed"<br />
                      <strong>Results:</strong> Found code snippets in conversation
                      <pre>
const [collapsed, setCollapsed] = useState(false)
const handleToggle = () => setCollapsed(!collapsed)</pre
                      >
                    </div>
                  </div>

                  <div class="transparency-step">
                    <div class="transparency-step-header">
                      <span class="transparency-step-type response">Response</span>
                      <span class="transparency-step-time">1.8s</span>
                    </div>
                    <div class="transparency-step-content">
                      Formatted response with recommendations and code examples
                    </div>
                  </div>
                </div>
              </div>

              <div class="message-text" style="margin-top: 12px">
                Based on the team's discussions and code examples in the workspace, here's the recommended approach for
                sidebar collapse:<br /><br />

                <strong>1. State Management</strong><br />
                Use local state for the collapse/expand state with localStorage persistence:
                <pre
                  style="
                    margin: 8px 0;
                    padding: 8px;
                    background: hsl(var(--background));
                    border-radius: 6px;
                    font-size: 13px;
                  "
                >
const [collapsed, setCollapsed] = useState(() => {
  return localStorage.getItem('sidebar-collapsed') === 'true'
})</pre
                >

                <strong>2. Smooth Transitions</strong><br />
                The team mentioned using CSS transitions (from Martin in #design-system). Linear's implementation was
                highlighted as a good reference.
              </div>
            </div>
          </div>
        </div>

        <div
          style="
            margin-top: 24px;
            padding: 16px;
            background: hsl(var(--muted) / 0.2);
            border-radius: 8px;
            font-size: 14px;
          "
        >
          <strong>Trade-offs:</strong><br />
          ✅ Complete transparency - see everything<br />
          ✅ Educational for understanding agent behavior<br />
          ✅ Excellent for debugging<br />
          ❌ <strong>Dominates the UI</strong> - takes lots of space<br />
          ❌ Can be overwhelming for casual users<br />
          ❌ In multi-user chat, this could be very noisy
        </div>
      </section>

      <!-- ========================================
           COMPARISON SECTION
           ======================================== -->
      <section class="approach-section">
        <div class="approach-header">
          <h2 class="approach-title">Summary Comparison</h2>
          <p class="approach-desc">Quick reference for choosing an approach</p>
        </div>

        <table style="width: 100%; border-collapse: collapse; font-size: 14px">
          <thead>
            <tr style="border-bottom: 2px solid hsl(var(--border))">
              <th style="text-align: left; padding: 12px; font-weight: 600">Approach</th>
              <th style="text-align: left; padding: 12px; font-weight: 600">UI Impact</th>
              <th style="text-align: left; padding: 12px; font-weight: 600">Transparency</th>
              <th style="text-align: left; padding: 12px; font-weight: 600">Best For</th>
            </tr>
          </thead>
          <tbody>
            <tr style="border-bottom: 1px solid hsl(var(--border))">
              <td style="padding: 12px"><strong>1. Minimal Badge</strong></td>
              <td style="padding: 12px">Very low</td>
              <td style="padding: 12px">None</td>
              <td style="padding: 12px">Users who trust the agent, simple queries</td>
            </tr>
            <tr style="border-bottom: 1px solid hsl(var(--border))">
              <td style="padding: 12px"><strong>2. Inline Activity</strong></td>
              <td style="padding: 12px">Low</td>
              <td style="padding: 12px">Summary only</td>
              <td style="padding: 12px">Showing high-level progress without clutter</td>
            </tr>
            <tr style="border-bottom: 1px solid hsl(var(--border))">
              <td style="padding: 12px"><strong>3. Collapsible Details</strong></td>
              <td style="padding: 12px">Low (collapsed)<br />Medium (expanded)</td>
              <td style="padding: 12px">Full (on demand)</td>
              <td style="padding: 12px">Power users who want details sometimes</td>
            </tr>
            <tr style="border-bottom: 1px solid hsl(var(--border))">
              <td style="padding: 12px"><strong>4. Timeline Stream</strong></td>
              <td style="padding: 12px">Medium-High</td>
              <td style="padding: 12px">Partial</td>
              <td style="padding: 12px">Solo users, educational contexts</td>
            </tr>
            <tr>
              <td style="padding: 12px"><strong>5. Full Transparency</strong></td>
              <td style="padding: 12px">Very high</td>
              <td style="padding: 12px">Complete</td>
              <td style="padding: 12px">Debugging, agent development, demos</td>
            </tr>
          </tbody>
        </table>

        <div
          style="
            margin-top: 32px;
            padding: 20px;
            background: hsl(var(--primary) / 0.05);
            border: 1px solid hsl(var(--primary) / 0.2);
            border-radius: 12px;
          "
        >
          <strong style="color: hsl(var(--primary)); font-size: 16px">Recommendation</strong>
          <p style="margin: 12px 0 0; font-size: 14px; line-height: 1.6">
            Start with <strong>Approach 2 (Inline Activity)</strong> as the default, with
            <strong>Approach 3 (Collapsible Details)</strong>
            available via a "Show details" toggle. This gives immediate feedback without overwhelming the UI, while
            preserving full transparency for those who want it.
          </p>
          <p style="margin: 12px 0 0; font-size: 14px; line-height: 1.6">
            Consider <strong>Approach 1 (Minimal)</strong> as a user preference for experienced users who trust the
            agent and want minimal UI.
          </p>
        </div>
      </section>
    </div>

    <script>
      function toggleTheme() {
        document.documentElement.classList.toggle("dark")
      }

      function toggleCollapsible(header) {
        header.classList.toggle("expanded")
        const details = header.nextElementSibling
        if (details && details.classList.contains("collapsible-details")) {
          details.style.display = header.classList.contains("expanded") ? "block" : "none"
        }
      }

      // Initialize collapsed states
      document.addEventListener("DOMContentLoaded", () => {
        document.querySelectorAll(".collapsible-details").forEach((el) => {
          el.style.display = "none"
        })
      })
    </script>
  </body>
</html>
